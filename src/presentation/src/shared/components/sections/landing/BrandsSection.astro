---
import { useI18nStatic } from "~/presentation/shared/hooks/useI18n";
import { TranslationKeys } from "~/domain/models/TranslationKey";
import Icon from "~/presentation/shared/components/ui/icons/Icon.astro";
import type { Icons } from "../../ui/icons/icons";

const { translate } = useI18nStatic(Astro.url);
const { title, subTitle } = Astro.props;

// Define TypeScript interface for props
interface Props {
  title: string;
  subTitle?: string;
}

const logos: (keyof typeof Icons)[] = [
  "daikinLogo",
  "mitsubishiLogo",
  "airfelLogo",
  "samsungLogo",
  "demirdokumLogo",
  "boschLogo",
  "arcelikLogo",
  "bekoLogo",
  "fujitsuLogo",
  "siemensLogo",
  "lgLogo",
  "vestelLogo",
];
---

<section class="mx-auto max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 2xl:max-w-full">
  <!-- Title and description -->
  <div class="mx-auto mb-6 w-full space-y-1 text-center sm:w-1/2 lg:w-1/3">
    <h2 class="text-balance text-2xl font-bold leading-tight text-neutral-800 dark:text-neutral-200 sm:text-3xl">
      {translate(TranslationKeys.brands_section_title)}
    </h2>
    {
      subTitle && (
        <p class="text-pretty leading-tight text-neutral-600 dark:text-neutral-400">
          {translate(TranslationKeys.brands_section_subtitle)}
        </p>
      )
    }
  </div>

  <div class="logos-wrapper">
    <div class="logos-container">
      <div class="logos-track">
        {/* Üç kez tekrar eden logo grupları */}
        {[0, 1, 2].map(() => (
          <div class="logos-group">
            {logos.map((logo) => (
              <Icon name={logo} class="h-20 w-20 opacity-70 transition hover:opacity-100 sm:h-24 sm:w-24" />
            ))}
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  .logos-wrapper {
    position: relative;
    width: 100%;
    overflow: hidden;
  }

  .logos-container {
    width: 100%;
    margin: auto;
    position: relative;
    overflow: hidden;
    mask-image: linear-gradient(to right, transparent, black 20%, black 80%, transparent);
  }

  .logos-track {
    display: flex;
    animation: scroll 40s linear infinite;
    width: fit-content;
  }

  .logos-group {
    display: flex;
    align-items: center;
    gap: 3rem;
    padding: 1rem;
    min-width: max-content;
  }

  @keyframes scroll {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-33.33%);
    }
  }

  .logos-track:hover {
    animation-play-state: paused;
  }

  @media (prefers-reduced-motion: reduce) {
    .logos-track {
      animation-play-state: paused;
    }
  }
</style>
